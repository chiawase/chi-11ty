<ol reversed class="postlist" style="--postslist-index: {{ (postslistCounter or postslist.length) + 1 }};">
{% for post in postslist | reverse %}
	<li class="postlist-item{% if post.url == url %} postlist-item-active{% endif %}">
	{% if post.data.title !== null %}<a href="{{ post.url }}" class="postlist-link postlist-header">{{ post.data.title }}</a>{% endif %}
	<p class="postlist-description">{% if post.data.description %}{{ post.data.description }}{% else %}{{ post.content | striptags | safe | truncate(280, false, "...") }}{% endif %}</p>
	<div class="post-metadata">
		
		<a href="{{ post.url }}" class="postlist-link"><time class="postlist-date" datetime="{{ post.date | htmlDateString }}">{{ post.date | readableDate }}</time></a>
		{#- For webmentions summary? #}
		{%- set postAbsoluteUrl = metadata.url + post.url %}

		{%- set mentions = webmentions | getWebmentionsForUrl(postAbsoluteUrl) %}
		
		{#- Set reposts as mentions that are `repost-of` #}
		{%- set reposts = mentions | webmentionsByType("repost-of") %}

		{# Count total number of reposts #}
		{%- set repostsSize = reposts | webmentionsSize %}

		{#- Set likes as mentions that are `like-of` #}
		{%- set likes = mentions | webmentionsByType("like-of") %}

		{# Count total number of likes #}
		{%- set likesSize = likes | webmentionsSize %}

		{#- set replies as mentions that are `in-reply-to` #}
		{%- set replies = mentions | webmentionsByType("in-reply-to") %}

		{# Count total number of replies #}
		{%- set repliesSize = replies | webmentionsSize %}

		{#- set mentionOfs as mentions that are `mention-of` #}
		{%- set mentionOfs = mentions | webmentionsByType("mention-of") %}

		{#- Count total number of mentions #}
		{%- set mentionOfSize = mentionOfs | webmentionsSize %}
		{%- if mentions | length %}
		<span class="postlist-separator"></span>

		<div class="webmentions__summary">
			{%- if likesSize > 0 %}<span>üíñ {{ likesSize }}</span>{%- endif %}
			{%- if repostsSize > 0 %}<span>üîÅ {{ repostsSize }}</span>{%- endif %}
			{%- if repliesSize > 0 %}<span>üí¨ {{ repliesSize }}</span>{%- endif %}
			{%- if mentionOfSize > 0 %}<span>üó£Ô∏è {{ mentionOfSize }}</span>{%- endif %}
		</div>
		{%- endif %}
		<span class="postlist-separator"></span><a class="postlist-readingtime">Reading time: {{ post.content | readingtime }}</a>
		{% for tag in post.data.tags | filterTagList %}
			{% set tagUrl %}/tags/{{ tag | slugify }}/{% endset %}
			{% if loop.first %}<span class="postlist-separator"></span>{% endif %}
			<a href="{{ tagUrl }}" class="postlist-tag">{{ tag | lower }}</a>
		{% endfor %}
		{% if post.data.draft %}&nbsp;(draft){% endif %}
	</div>
	</li>
{% endfor %}
</ol>
